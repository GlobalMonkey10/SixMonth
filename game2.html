<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Tic Tac TOe</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
</head>
<body class="bg-[#e4eef2]">

  <!-- 🔊 Background Music -->
  <audio id="bgMusic" autoplay loop>
    <source src="music.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- 🎛️ Toggle Music Button -->
  <button id="toggleMusic" style="position: fixed; top: 1rem; right: 1rem; background: white; padding: 0.5rem 1rem; border-radius: 0.5rem; box-shadow: 0 2px 6px rgba(0,0,0,0.2);">
    🔊 Mute
  </button>

  <!-- 🎮 Game Script -->
  <script src="TTT/game_TTT.js" defer></script>

  <!-- 🎯 Music Control Script -->
  <script>
    const music = document.getElementById('bgMusic');
    const btn = document.getElementById('toggleMusic');

    // Remember mute setting
    if (localStorage.getItem('musicMuted') === 'true') {
      music.muted = true;
      btn.textContent = '🔈 Unmute';
    }

    // Start music on first user interaction (browser autoplay policy)
    document.body.addEventListener('click', () => {
      if (music.paused) {
        music.play();
      }
    }, { once: true });

    // Mute/unmute toggle
    btn.addEventListener('click', () => {
      music.muted = !music.muted;
      localStorage.setItem('musicMuted', music.muted);
      btn.textContent = music.muted ? '🔈 Unmute' : '🔊 Mute';
    });
  </script>

</body>
</html>
